## Linux基礎

### 目的

- Linux OSの基礎的な概念や機能を知る
- コマンドラインベースの操作体験
- 当社の活用方法
- Linuxの特徴とWinとの違い


---

### 概要

- Linux
  - WindowsやMacOSと同じOS(Operating System)でありOSS(オープンソースSW)
  - クライアントPCやServerなどで幅広く利用されている
  - Androidや富岳もLinuxベースであり一部の**アプライアンス**にも利用されている
  - メリット：`コスト削減` `セキュリティの高さ` `Customize可能`
  - デメリット：`操作の複雑さ` `周辺機器の問題` `運用の難しさ`
 
- OSS <-> Proprietary Software
  - `OSS`：SW開発者が自由にアクセスして使用できるようにソースコードを公開しているSW
  - `Proprietary SW`：ソースコードが非公開であり一般の人々がそのSWを改良したり再配布することができないSWで使用にはライセンス料がかかる

- アプライアンス
  - 特定の機能や用途に特化したServer機器：`ロードバランサー` `FW` `DNS/DHCP`など
  - 機能を絞ってチューニングを行うため比較的高パフォーマンス
  - OSやSWが最初から組み込まれており専用のWebUIを持つため導入/運用が容易

- Linuxディストリビューション
  - 様様名企業がLinuxKernelを自分たちが望む応用SWをまとめ簡単にインストールできるようにしたもの

#### 歴史

- UNIX
  - 1969 -> AT&Tのベル研究所で初期のOSの一つであるUNIXが誕生/メディアや送料代だけでソースが利用可能
  - 1984 -> AT&T分割を機にライセンス許可なく利用できなくなる
  - 現在 -> UNIXの商標を持つ標準化団体の認証を受けたOSをUNIX、模倣品をUNIX互換OSと呼ぶ

- GNU Project(GNU's not Unix)
  - 1983 -> MIT ストールマンにより創立/オープンソースのみでUNIXの機能を使えるOS構築が目標/ライセンスに抵触しないSWをリリース
  - 1989 -> GPL(GNU General Public License)を作成
 
- Linux
  - 1991 -> Linus Trovalds(フィンランド)がUNIX互換OSとして開発/Linux KernelとGNUの応用SWの組み合わせ
  - Linux KernelはGPLライセンスを採用


---

### ServerOS比較/RHEL

||RHEL|RHEL互換|Windows Server|
|-----|------|-----|-----|
|ソースコード|オープン|オープン|クローズド|
|ライセンス区分|OSS|OSS|Proprietary|
|価格|100000|無償|15万 - 20万|

<br>

- RHEL
  - IBM傘下Red Hot社が開発/提供している法人向けの商用ディストリビューション
  - サブスク形式でリリースから10年間セキュリティアップデートが提供される
    - 5.5年 フルサポート
    - 1年 メンテサポート（セキュ、バグ、H/W）
    - 3.5年 メンテサポート（セキュ、バグ）
    - ELS(Extended life Phase)

- RHEL互換(RHELClone)
  - RHELはOSSであるがRed Hatsyが持つ商標や再配布できないSWを含む
  - RHEL互換ディストリビューション

- ライセンス有効期間中の提供サービス（2002年から）
  - SW継続利用
  - OSのDownload、サポート情報の閲覧
  - セキュリティパッチ提供
  - アップグレード権
  - サポート
  - 特許訴訟からの保護

- RHELだけで構築可能なServer
  - WebServer：受けたHTTPリクエストに応じてコンテンツを返すServer
  - ProxyServer（フォワード）：各Clientの代わりにWebアクセスしコンテンツを取得するServer(HTTP以外も）
  - ProxyServer（リバース）：WebServerの前段でアクセスを受けるServer
  - MailServer（送信/SMTP）：MailClient/MailServerからMailServerへ電子メールを送受信するServer
  - MailServer（受信/POP3/IMAPv4）：MailClientの要求に応じてMailBoxからMailを取り出し渡す
  - DNSServer：ドメイン名やホスト名などのIPアドレスを紐づけ/変換するServer
  - シスログServer：ログをNW上で転送するためのプロトコルで送られてきたログを受信管理するServer
 
---

### 文字コードと改行コード

#### 改行コード

|改行コード|16進表記|記号|OS|
|------|-----|-----|------|
|CR|0D|\r|MacOS 9以前)|
|LF|A|\n|UNIX/LINUX/MACOS X以降|
|CRLF|D A|\r\n|Windows|

<br>

- WinとLinuxでは使用する文字コード/改行コードが違う：
  - Windows：`CP932(Windows-31J,ANSI)` -> Shift_JISの派生 -> 「あ」は「0x E3 81 82」
  - Linux：`UTF-8` -> 「あ」は「0x 82 A0」
  - winで作成したファイルをそのままLinuxにもっていくとCRが改行コードのLFの前に差し込まれてしまうため文字化けが起きる
 
- BOM(ByteOderMark)：ファイルの先頭にBOM(0xEF 0xBB 0xBF)を入れるとUTF-8と判別
- 符号化文字集合
- 文字符号化方式
